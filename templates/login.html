<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Dating App</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="login-container">
        <div class="login-card">
            <h1>Welcome to Dating App</h1>
            <p>Please login with your Telegram account to continue</p>

            <!-- Отладочная информация (можно убрать после тестирования) -->
            <p style="color: #666; font-size: 12px;">bot_username: {{ bot_username }}</p>

            {% if bot_username %}
                <!-- Telegram Login Widget -->
                <div class="telegram-login">
                    <script async src="https://telegram.org/js/telegram-widget.js?7"
                        data-telegram-login="{{ bot_username }}"
                        data-size="large"
                        data-userpic="false"
                        data-request-access="write"
                        data-auth-url="{{ url_for('telegram_auth', _external=True) }}">
                    </script>
                </div>
            {% else %}
                <div class="error-message">
                    <p style="color: red;">Error: Telegram bot configuration is missing</p>
                    <p>Please check your environment variables</p>
                </div>
            {% endif %}

            <div class="login-info">
                <h3>How to login:</h3>
                <ol>
                    <li>Click the "Login via Telegram" button above</li>
                    <li>Enter your phone number</li>
                    <li>Confirm the login in Telegram</li>
                    <li>You'll be redirected to the app</li>
                </ol>
            </div>
        </div>
    </div>
</body>
</html>